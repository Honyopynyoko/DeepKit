"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DatabaseLogger = void 0;
const logger_1 = require("@deepkit/logger");
class DatabaseLogger {
    constructor() {
        this.active = false;
        this.public = false;
    }
    enableLogging() {
        if (!this.logger)
            this.logger = new logger_1.Logger([new logger_1.ConsoleTransport], [new logger_1.TimestampFormatter]);
        this.active = true;
    }
    setLogger(logger) {
        this.logger = logger.scoped('deepkit/orm');
    }
    failedQuery(error, query, params) {
        if (!this.active || !this.logger)
            return;
        this.logger.error('failed query', query.trim(), params, error);
    }
    logQuery(query, params) {
        if (!this.active || !this.logger)
            return;
        this.logger.log(query.trim(), params);
    }
}
exports.DatabaseLogger = DatabaseLogger;
//# sourceMappingURL=logger.js.map