"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
const type_1 = require("@deepkit/type");
globals_1.test('atomic', () => {
    class Bla {
        constructor() {
            this.position = 1;
        }
    }
    const bla = new Bla;
    type_1.atomicChange(bla).increase('position', 5);
});
globals_1.test('changes', () => {
    {
        const changes = new type_1.Changes();
        globals_1.expect(changes.empty).toBe(true);
        changes.replaceSet({ bla: 234 });
        globals_1.expect(changes.empty).toBe(false);
    }
    {
        const changes = new type_1.Changes({ $set: {} });
        globals_1.expect(changes.empty).toBe(true);
        changes.set('bla', 24);
        globals_1.expect(changes.empty).toBe(false);
    }
    {
        const changes = new type_1.Changes({ $set: {} });
        globals_1.expect(changes.empty).toBe(true);
        changes.replaceSet({});
        globals_1.expect(changes.empty).toBe(true);
        changes.mergeSet({ b: true });
        globals_1.expect(changes.empty).toBe(false);
    }
});
//# sourceMappingURL=change-set.spec.js.map