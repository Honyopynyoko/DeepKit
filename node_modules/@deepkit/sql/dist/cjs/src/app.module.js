"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.appModule = void 0;
const app_1 = require("@deepkit/app");
const logger_1 = require("@deepkit/logger");
const injector_1 = require("@deepkit/injector");
const orm_1 = require("@deepkit/orm");
const migration_create_command_1 = require("./cli/migration-create-command");
const migration_down_command_1 = require("./cli/migration-down-command");
const migration_up_command_1 = require("./cli/migration-up-command");
const migration_pending_command_1 = require("./cli/migration-pending-command");
const migration_provider_1 = require("./migration/migration-provider");
exports.appModule = new app_1.AppModule({
    providers: [
        migration_provider_1.MigrationProvider,
        { provide: orm_1.DatabaseRegistry, deps: [injector_1.InjectorContext], useFactory: (ic) => new orm_1.DatabaseRegistry(ic) },
        { provide: logger_1.Logger, useValue: new logger_1.Logger([new logger_1.ConsoleTransport]) }
    ],
    controllers: [
        migration_create_command_1.MigrationCreateController,
        migration_down_command_1.MigrationDownCommand,
        migration_up_command_1.MigrationUpCommand,
        migration_pending_command_1.MigrationPendingCommand,
    ]
});
//# sourceMappingURL=app.module.js.map